# 编码转换工具

这是一个基于 Vue 3 + TypeScript + Vite 开发的编码转换工具，提供多种编码转换功能和完整的二维码生成解析能力。

## 技术栈

- Vue 3
- TypeScript
- Vite
- Vue Router
- Pinia
- Element Plus
- Tailwind CSS
- QRCode（二维码生成）
- qr-scanner（二维码解析）

## 功能特性

该工具提供以下编码转换功能：

1. **URL 编码/解码**
   - `encode编码`：使用 `encodeURIComponent` 进行 URL 编码
   - `decode解码`：使用 `decodeURIComponent` 进行 URL 解码

2. **文本与十六进制转换**
   - `文本转16进制`：将文本转换为十六进制字符串
   - `16进制转文本`：将十六进制字符串转换回文本

3. **进制转换**
   - `10进制转16进制`：将十进制数转换为十六进制（支持批量转换）
   - `16进制转10进制`：将十六进制数转换为十进制（支持批量转换）

4. **二维码完整解决方案**
   - `生成二维码`：将文本内容生成为二维码图片
   - `解析二维码`：从粘贴的图片中解析二维码内容
   - 支持复制二维码图片到剪贴板
   - 支持图片粘贴和预览

5. **链接解析功能**
   - `解析链接`：智能解析各种格式的链接和参数
   - 支持标准 HTTP/HTTPS 链接
   - 支持路径形式的链接（如：`/pages/path?param=value`）
   - 支持 Hash 路由模式
   - 支持 Scheme 链接（如：`myapp://action?param=value`）
   - 支持复杂的混合模式链接

### 核心特点

- **多转换器支持**
  - 可以添加多个转换器同时工作
  - 支持动态添加和删除转换器（第一个转换器不可删除）
  - 一键清除功能：当转换器数量大于1时，显示"清除多余"按钮，可一键删除所有多余转换器，只保留第一个
  - 每个转换器都是独立的，可以进行不同的转换操作

- **智能的用户界面**
  - 按钮状态反馈：禁用时显示描边样式，启用时显示填充样式
  - 一键复制功能：点击结果区域可直接复制内容
  - 友好的提示：鼠标悬停时显示操作提示
  - 复制成功反馈：显示动画提示

- **完整的二维码工具链**
  - **生成功能**：文本转二维码，支持悬停操作
  - **解析功能**：图片粘贴自动检测，智能解析二维码
  - **图片预览**：固定尺寸预览，显示文件信息
  - **状态管理**：智能禁用输入框，完整的重置功能

- **强大的链接解析能力**
  - **智能识别**：自动检测链接格式，支持多种路由模式
  - **结构化展示**：分类显示原始链接、基础链接、各类参数
  - **交互式复制**：每个参数值都可单独复制
  - **格式支持**：
    ```
    # 标准 HTTP 链接
    http://example.com/path?param=value
    
    # 路径形式（常用于前端路由）
    /pages/webview/webview?pvEvent=value&url=encoded_url
    
    # Hash 路由模式
    http://example.com/#/view?param=value
    
    # 复杂混合模式
    http://example.com/path?abc=1&bcd=2#/view?hash_param=value
    
    # Scheme 链接
    myapp://action?param=value
    ```

- **图片处理能力**
  - 支持粘贴图片到文本框
  - 自动显示图片预览和文件信息
  - 内存管理优化，避免资源泄漏
  - 支持多种图片格式的二维码解析

- **高级功能**
  - 批量转换：进制转换功能支持多个数字同时转换（使用空格或逗号分隔）
  - 实时验证：所有输入都有合法性验证
  - 友好的错误提示：转换失败时会显示具体原因
  - 响应式设计：适配不同屏幕尺寸

## 开发指南

### 环境版本信息

- **Node.js**: 20.9.0 (推荐使用 18.x 或更高版本)
- **npm**: >= 7.0.0
- **Vue**: 3.5.18
- **TypeScript**: ~5.8.3
- **Vite**: ^4.5.2
- **Tailwind CSS**: ^3.4.1
- **Element Plus**: ^2.10.7

## 🎨 界面设计升级

### 2024年最新版本 - 现代化主题优化

本项目在保持原有强大功能的基础上，进行了全面的视觉设计升级：

#### 🌈 现代化色彩系统
- **统一的设计语言**：采用科学的色彩搭配，包含主色、辅助色、强调色等完整色彩体系
- **渐变背景**：使用柔和的渐变背景替代单调的纯色，营造现代感
- **智能配色**：根据功能类型使用不同的色彩主题（主要功能-蓝色、成功操作-绿色、警告提示-橙色、危险操作-红色）

#### ✨ 玻璃态效果 (Glassmorphism)
- **毛玻璃卡片**：主要内容区域采用半透明毛玻璃效果，增强视觉层次
- **背景模糊**：使用 backdrop-filter 实现真实的背景模糊效果
- **渐变边框**：精美的渐变边框设计，提升视觉吸引力

#### 🎭 精美的动画交互
- **入场动画**：页面元素使用淡入、滑入等动画效果，提升用户体验
- **悬停效果**：按钮和卡片的悬停状态包含微妙的缩放和阴影变化
- **状态反馈**：操作成功时的弹跳动画和复制提示效果
- **装饰动画**：背景装饰元素的脉冲动画，增加页面活力

#### 📐 优化的布局设计
- **响应式网格**：按钮采用智能响应式网格布局，在不同屏幕尺寸下都有最佳表现
- **视觉层次**：通过字体大小、颜色深浅、间距等建立清晰的信息层次
- **空间平衡**：合理的留白和间距设计，避免界面过于拥挤

#### 🎨 组件样式重设计
- **现代化按钮**：采用渐变背景、圆角设计、悬停动画的现代按钮样式
- **增强输入框**：等宽字体、柔和边框、聚焦状态的视觉反馈
- **美化结果展示**：结果区域采用渐变背景、悬停效果和优雅的排版
- **图标集成**：在各个功能区域添加语义化的 SVG 图标，提升用户理解

#### 🖼️ 视觉装饰元素
- **背景装饰**：页面背景添加动态的渐变圆圈装饰
- **功能标签**：页面顶部的功能特性标签展示
- **渐变标题**：使用渐变文字效果的主标题设计
- **光效动画**：按钮悬停时的光效扫过动画

#### 📱 移动端优化
- **自适应布局**：针对不同屏幕尺寸优化的响应式设计
- **触摸友好**：按钮大小和间距适配移动设备的触摸操作
- **简化界面**：移动端自动简化某些装饰元素，保持性能流畅

这次设计升级使得整个应用不仅功能强大，而且具有了现代化的视觉体验，符合当前主流的设计趋势和用户期望。

## 🚀 2024年12月最新功能 - macOS 风格窗口管理

### 革命性的转换器管理体验

我们引入了完全仿照 macOS 系统窗口的管理界面，为每个转换器添加了专业级的窗口控制功能：

#### 🔴🟡🟢 macOS 风格窗口控制按钮
- **红色关闭按钮**：智能控制，只有最后一个转换器可以关闭，确保至少保留一个工作区
- **黄色最小化按钮**：纯装饰设计，悬停显示"好看，没用"的幽默提示，增加产品趣味性  
- **绿色展开/收起按钮**：核心功能，支持转换器的折叠和展开操作

#### 🎯 智能的收起/展开系统
- **一键收起**：隐藏输入区域和按钮组，只保留重要的转换结果
- **结果预览**：收起状态下仍可查看和操作转换结果
- **自动展开**：聚焦时自动展开收起的转换器
- **状态记忆**：每个转换器独立记住自己的展开/收起状态

#### 🔄 转换器生命周期管理
- **智能添加**：新建转换器时自动滚动到页面底部
- **自动聚焦**：新转换器的文本框自动获得焦点并选中内容
- **平滑动画**：所有操作都配有优雅的过渡动画
- **组件通信**：父子组件间的方法调用和状态同步

#### 📱 优化的空间利用
- **紧凑模式**：收起后节省 80% 的垂直空间
- **批量管理**：支持同时管理多个转换器，每个都可独立操作
- **响应式设计**：在移动设备上也有良好的窗口管理体验

#### 🎨 视觉设计亮点
- **macOS 原生感**：1:1 还原 macOS 系统窗口的视觉设计
- **状态指示器**：右侧圆点显示转换器是否有结果
- **渐变导航栏**：半透明毛玻璃效果的顶部导航区域
- **图标集成**：每个按钮都有对应的操作图标反馈

#### 🔧 技术实现特色
- **Vue 3 Composition API**：充分利用最新的响应式系统
- **defineExpose 通信**：组件间的方法暴露和调用
- **nextTick 时序控制**：确保 DOM 更新后的操作时序
- **平滑滚动 API**：原生浏览器 API 实现的页面滚动
- **智能错误处理**：多重备用方案确保功能稳定性

### 🎪 交互体验革新

这次更新不仅仅是视觉上的改进，更是交互体验的全面革新：

1. **工作流优化**：从添加转换器到开始使用，整个流程完全自动化
2. **空间管理**：通过收起功能，用户可以在有限的屏幕空间内管理更多转换器
3. **专注模式**：收起不必要的转换器，专注于当前正在使用的工具
4. **快速切换**：在多个转换器间快速切换和比较结果

这些功能的引入让编码转换工具具备了专业级开发工具的用户体验，同时保持了简洁易用的特点。

## 📋 更新日志

### v2.0.1 - 2025年1月 (功能增强版本)
- 🧹 **新增功能**：一键清除多余转换器
- 🎯 智能显示逻辑：只有多个转换器时才显示清除按钮
- 🎨 视觉优化：橙色警告色系按钮，清晰表明删除操作
- ⚡ 操作便捷：位于添加按钮左侧，快速访问
- 🔄 状态管理：清除后按钮自动隐藏，界面保持简洁

### v2.0.0 - 2024年12月 (里程碑版本)
- 🎉 **重大更新**：macOS 风格窗口管理系统
- 🔴🟡🟢 三色窗口控制按钮，完美还原 macOS 体验
- 📱 智能转换器收起/展开功能，优化空间利用
- 🎯 自动滚动和聚焦，提升操作流畅度
- 🎨 现代化设计系统，玻璃态效果和精美动画
- 🔧 全面复制功能，支持链接解析的所有元素
- 📊 状态指示器和视觉反馈系统
- 🚀 Vue 3 + TypeScript 技术架构升级

### v1.0.0 - 2024年8月
- 🛠️ 基础编码转换功能（URL编码、进制转换等）
- 📱 二维码生成和解析功能
- 🔗 链接解析和参数提取
- 🎨 基础界面设计和交互

## 环境要求

### 安装依赖

```bash
npm install
```

### 开发服务器

```bash
npm run dev
```

### 构建项目

```bash
npm run build
```

### 代码检查

```bash
npm run lint
```

## 使用说明

### 1. URL 编码/解码
   - 输入需要编码/解码的文本
   - 点击对应的按钮进行转换
   - 点击结果区域可直接复制结果

### 2. 文本与十六进制转换
   - 输入普通文本或十六进制字符串
   - 点击对应的按钮进行转换
   - 十六进制编码会将文本中的每个字符转换为其 ASCII 码的十六进制表示
   - 十六进制解码会将每两个十六进制字符解析为一个文本字符

### 3. 进制转换
   - 支持输入多个数字，用空格或逗号分隔
   - 十六进制数可以带 "0x" 前缀
   - 转换结果会直接显示转换后的值
   - 多个数字的结果会按行显示

### 4. 二维码生成
   - 输入文本后点击"生成二维码"按钮
   - 二维码会显示在输入框右侧，输入框会被禁用
   - 底部的功能按钮会隐藏，专注于二维码操作
   - 鼠标悬停在二维码上会显示操作按钮：
     - **复制二维码**：将二维码图片复制到剪贴板
     - **取消**：移除二维码并恢复正常状态

### 5. 二维码解析
   - 直接在文本框中粘贴包含二维码的图片
   - 图片会自动显示在文本框左侧，并显示文件信息
   - 文本框会被禁用，专注于图片操作
   - 点击"解析二维码"按钮开始解析
   - 解析成功后，结果会显示在底部结果区域
   - 支持的操作：
     - **解析二维码**：从图片中提取二维码内容
     - **重置**：清除图片和所有状态，恢复初始状态

### 6. 链接解析（全新功能）
   - 输入任意格式的链接，点击"解析链接"按钮
   - 支持多种链接格式：完整URL、路径、Hash路由、Scheme链接等
   - 解析结果分类展示：
     - **原始链接**：显示完整输入，可点击复制
     - **基础链接/路径**：显示第一个 `?` 之前的部分
     - **Query 参数**：标准查询参数，每个值可单独复制
     - **Hash 路径**：SPA 路由路径部分
     - **Hash Query 参数**：Hash 中的查询参数
     - **Fragment**：纯 fragment 部分
     - **解析统计**：显示参数总数和包含的特殊部分
   - 每个参数值都支持点击复制，便于调试和使用

### 7. macOS 风格转换器管理
#### 窗口控制按钮
   - **🔴 红色关闭按钮**：只有最后一个转换器可以关闭，确保至少保留一个工作区
   - **🟡 黄色最小化按钮**：装饰性按钮，悬停显示幽默提示
   - **🟢 绿色展开/收起按钮**：切换转换器的展开和收起状态

#### 转换器管理操作
   - **添加转换器**：点击底部的"添加新的转换器"按钮
     - 页面自动滚动到底部
     - 新转换器的文本框自动获得焦点
     - 支持立即开始输入操作
   
   - **清除多余转换器**：当转换器数量大于1时显示"清除多余"按钮
     - 一键删除所有多余的转换器，只保留第一个
     - 按钮采用橙色警告色系，清晰表明删除操作
     - 清除完成后按钮自动隐藏
     - 位于"添加新转换器"按钮左侧，便于快速访问
   
   - **收起转换器**：点击绿色按钮收起转换器
     - 隐藏输入区域和操作按钮
     - 保留转换结果的预览显示
     - 节省页面空间，便于管理多个转换器
   
   - **展开转换器**：再次点击绿色按钮展开
     - 恢复完整的转换器界面
     - 如果通过聚焦操作，会自动展开收起的转换器

### 8. 结果操作
   - 将鼠标悬停在结果区域会显示"点击复制结果"提示
   - 点击结果区域可以直接复制内容到剪贴板
   - 复制成功会显示提示信息

## 项目结构

```
src/
  ├── assets/        # 静态资源
  ├── components/    # 可复用组件
  │   ├── CodeConverter.vue      # 编码转换器主组件
  │   ├── QRCodeGenerator.vue    # 二维码生成器组件
  │   ├── ImagePreview.vue       # 图片预览组件
  │   └── LinkParseResult.vue    # 链接解析结果组件
  ├── composables/   # 组合式函数
  ├── layouts/       # 布局组件
  ├── pages/         # 页面组件
  ├── router/        # 路由配置
  ├── stores/        # Pinia 状态管理
  ├── types/         # TypeScript 类型定义
  └── utils/         # 工具函数
```

## 特色亮点

### 🔄 完整的二维码工作流
- **生成**：文本 → 二维码图片
- **解析**：二维码图片 → 文本内容
- **复制**：支持图片和文本的快速复制

### 🔗 强大的链接解析工具
- **多格式支持**：HTTP链接、路径、Hash路由、Scheme链接
- **结构化展示**：清晰分类，一目了然
- **交互式操作**：每个参数都可单独复制
- **开发者友好**：专为前端开发调试设计

### 🎨 优雅的用户体验
- **智能状态管理**：根据操作类型自动调整界面状态
- **直观的视觉反馈**：清晰的按钮状态和操作提示
- **无缝的交互流程**：粘贴、预览、解析一气呵成

### 🛠️ 强大的技术架构
- **模块化设计**：功能组件独立，易于维护和扩展
- **内存优化**：自动管理对象URL，避免内存泄漏
- **错误处理**：完整的异常捕获和用户友好的错误提示

## 贡献指南

1. Fork 本仓库
2. 创建您的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交您的改动 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启一个 Pull Request

## 许可证

[MIT](LICENSE)